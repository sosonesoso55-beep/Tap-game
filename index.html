<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Anime Tap</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  user-select:none;
  font-family:Arial, sans-serif;
}

body{
  height:100vh;
  background:radial-gradient(circle at top,#4b0070,#000);
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
}

/* HEADER */
header{
  margin-top:15px;
  text-align:center;
}

#score{
  font-size:24px;
  margin-top:8px;
  color:#ffd6ff;
  text-shadow:0 0 12px #ff66ff;
}

/* TAP */
#tap{
  width:260px;
  height:260px;
  border-radius:50%;
  background:linear-gradient(145deg,#1a0029,#000);
  box-shadow:0 0 45px #c300ff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  transition:transform .05s;
}

#tap:active{
  transform:scale(.94);
}

/* MENU */
.menu{
  width:100%;
  display:flex;
  justify-content:space-around;
  background:rgba(0,0,0,.7);
  padding:12px 0;
}

.menu button{
  background:none;
  border:none;
  color:#ffd6ff;
  font-size:12px;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
}

.modal-box{
  width:85%;
  background:#1a0029;
  border:2px solid #a100ff;
  border-radius:16px;
  padding:18px;
  text-align:center;
  box-shadow:0 0 25px #a100ff;
}

.modal-box h3{
  margin-bottom:12px;
  color:#ff9dff;
}

.modal-box p{
  margin:6px 0;
}

.modal-box button{
  margin-top:10px;
  padding:8px 14px;
  border:none;
  border-radius:10px;
  background:#a100ff;
  color:white;
}
</style>
</head>

<body>

<header>
  <h2>Anime Tap</h2>
  <div id="score">–û—á–∫–∏: 0</div>
</header>

<div id="tap">TAP</div>

<div class="menu">
  <button onclick="openMenu('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
  <button onclick="openMenu('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
  <button onclick="openMenu('top')">üèÜ –¢–û–ü</button>
  <button onclick="openMenu('settings')">‚öô</button>
</div>

<div class="modal" id="modal">
  <div class="modal-box" id="modalBox"></div>
</div>

<script>
/* –°–û–°–¢–û–Ø–ù–ò–ï */
let data = JSON.parse(localStorage.getItem("game")) || {
  score:0,
  power:1,
  taps:0,
  leaderboard:[]
};

const scoreEl = document.getElementById("score");

/* –û–ë–ù–û–í–õ–ï–ù–ò–ï */
function update(){
  scoreEl.innerText = "–û—á–∫–∏: " + data.score;
  localStorage.setItem("game", JSON.stringify(data));
}

/* –¢–ê–ü */
document.getElementById("tap").onclick = ()=>{
  data.score += data.power;
  data.taps++;
  update();
};

/* –ú–ï–ù–Æ */
function openMenu(type){
  const box = document.getElementById("modalBox");
  const modal = document.getElementById("modal");

  if(type==="profile"){
    box.innerHTML = `
      <h3>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h3>
      <p>–û—á–∫–∏: ${data.score}</p>
      <p>–°–∏–ª–∞ —Ç–∞–ø–∞: x${data.power}</p>
      <p>–í—Å–µ–≥–æ —Ç–∞–ø–æ–≤: ${data.taps}</p>
      <button onclick="closeMenu()">–ó–∞–∫—Ä—ã—Ç—å</button>
    `;
  }

  if(type==="shop"){
    box.innerHTML = `
      <h3>üõí –ú–∞–≥–∞–∑–∏–Ω</h3>
      <p>x2 ‚Äî 500 –æ—á–∫–æ–≤</p>
      <button onclick="buy(2,500)">–ö—É–ø–∏—Ç—å</button>
      <p>x5 ‚Äî 3000 –æ—á–∫–æ–≤</p>
      <button onclick="buy(5,3000)">–ö—É–ø–∏—Ç—å</button>
      <button onclick="closeMenu()">–ó–∞–∫—Ä—ã—Ç—å</button>
    `;
  }

  if(type==="top"){
    saveToTop();
    box.innerHTML = `
      <h3>üèÜ –õ–∏–¥–µ—Ä–±–æ—Ä–¥</h3>
      ${data.leaderboard.map((s,i)=>`<p>${i+1}. ${s}</p>`).join("")}
      <button onclick="closeMenu()">–ó–∞–∫—Ä—ã—Ç—å</button>
    `;
  }

  if(type==="settings"){
    box.innerHTML = `
      <h3>‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
      <button onclick="resetGame()">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
      <button onclick="closeMenu()">–ó–∞–∫—Ä—ã—Ç—å</button>
    `;
  }

  modal.style.display="flex";
}

function closeMenu(){
  document.getElementById("modal").style.display="none";
}

/* –ü–û–ö–£–ü–ö–ò */
function buy(mult, price){
  if(data.score >= price){
    data.score -= price;
    data.power = mult;
    update();
    closeMenu();
  } else {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤");
  }
}

/* –õ–ò–î–ï–†–ë–û–†–î */
function saveToTop(){
  data.leaderboard.push(data.score);
  data.leaderboard = [...new Set(data.leaderboard)]
    .sort((a,b)=>b-a)
    .slice(0,5);
  update();
}

/* –°–ë–†–û–° */
function resetGame(){
  if(confirm("–¢–æ—á–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å?")){
    localStorage.removeItem("game");
    location.reload();
  }
}

update();
</script>

</body>
</html>
