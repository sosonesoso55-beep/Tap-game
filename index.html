<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anime Tap Game</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  user-select: none;
}

body {
  font-family: 'Orbitron', sans-serif;
  background: radial-gradient(circle at top, #1a0033, #000);
  color: white;
  height: 100vh;
  overflow: hidden;
}

/* ===== BACKGROUND EFFECT ===== */
.bg-glow {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 20%, #ff00ff33, transparent 40%),
    radial-gradient(circle at 80% 80%, #00ffff22, transparent 40%);
  animation: bgMove 12s infinite alternate;
}
@keyframes bgMove {
  from { filter: hue-rotate(0deg); }
  to { filter: hue-rotate(60deg); }
}

/* ===== TOP BAR ===== */
.top {
  position: absolute;
  top: 15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 22px;
  text-shadow: 0 0 15px #ff00ff;
}

/* ===== MAIN ===== */
.game {
  position: relative;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== TAP IMAGE ===== */
#girl {
  width: 260px;
  filter: drop-shadow(0 0 40px #ff00ff);
  transition: transform 0.08s, filter 0.2s;
}
#girl:active {
  transform: scale(0.92) rotate(-2deg);
  filter: drop-shadow(0 0 70px #ff66ff);
}

/* ===== FLOAT TEXT ===== */
.float {
  position: absolute;
  color: #ff66ff;
  font-size: 20px;
  animation: floatUp 1s forwards;
  pointer-events: none;
}
@keyframes floatUp {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(-60px); }
}

/* ===== BOTTOM MENU ===== */
.menu {
  position: absolute;
  bottom: 15px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
}

.menu button {
  background: linear-gradient(135deg, #ff00ff, #00ffff);
  border: none;
  padding: 10px 14px;
  border-radius: 12px;
  font-size: 12px;
  color: black;
  box-shadow: 0 0 15px #ff00ff;
  cursor: pointer;
}
.menu button:hover {
  transform: scale(1.1);
}

/* ===== PANELS ===== */
.panel {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  flex-direction: column;
  padding: 20px;
}

.panel h2 {
  text-align: center;
  margin-bottom: 15px;
  color: #ff66ff;
}

.panel button {
  margin-top: 10px;
  padding: 12px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(135deg, #ff00ff, #00ffff);
}
</style>
</head>

<body>

<div class="bg-glow"></div>

<div class="top">
  üíé –û—á–∫–∏: <span id="score">0</span>
</div>

<div class="game">
  <img id="girl" src="girl.png">
</div>

<div class="menu">
  <button onclick="openPanel('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
  <button onclick="openPanel('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
  <button onclick="openPanel('settings')">‚öôÔ∏è</button>
</div>

<!-- SHOP -->
<div id="shop" class="panel">
  <h2>üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
  <button onclick="buy(2, 500)">x2 –Ω–∞ 10 –º–∏–Ω ‚Äî 500</button>
  <button onclick="buy(5, 3000)">x5 –Ω–∞ 10 –º–∏–Ω ‚Äî 3000</button>
  <button onclick="closePanels()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>

<!-- PROFILE -->
<div id="profile" class="panel">
  <h2>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
  <p>–û—á–∫–∏: <span id="pScore"></span></p>
  <p>–ú–Ω–æ–∂–∏—Ç–µ–ª—å: x<span id="pMulti"></span></p>
  <button onclick="closePanels()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>

<!-- SETTINGS -->
<div id="settings" class="panel">
  <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
  <button onclick="resetGame()">‚ôª –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
  <button onclick="closePanels()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>

<script>
let score = +localStorage.getItem("score") || 0;
let multi = +localStorage.getItem("multi") || 1;
let multiEnd = +localStorage.getItem("multiEnd") || 0;

const scoreEl = document.getElementById("score");
scoreEl.innerText = score;

function tap(e) {
  updateMulti();
  score += multi;
  scoreEl.innerText = score;
  localStorage.setItem("score", score);

  const t = document.createElement("div");
  t.className = "float";
  t.innerText = "+" + multi;
  t.style.left = e.clientX + "px";
  t.style.top = e.clientY + "px";
  document.body.appendChild(t);
  setTimeout(() => t.remove(), 1000);
}

function buy(x, cost) {
  if (score < cost) return alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –æ—á–∫–æ–≤!");
  score -= cost;
  multi = x;
  multiEnd = Date.now() + 10 * 60 * 1000;
  save();
  closePanels();
}

function updateMulti() {
  if (multi > 1 && Date.now() > multiEnd) {
    multi = 1;
    save();
  }
}

function save() {
  localStorage.setItem("score", score);
  localStorage.setItem("multi", multi);
  localStorage.setItem("multiEnd", multiEnd);
}

function openPanel(id) {
  document.getElementById(id).style.display = "flex";
  document.getElementById("pScore").innerText = score;
  document.getElementById("pMulti").innerText = multi;
}

function closePanels() {
  document.querySelectorAll(".panel").forEach(p => p.style.display = "none");
}

function resetGame() {
  if (confirm("–¢–æ—á–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å?")) {
    localStorage.clear();
    location.reload();
  }
}

document.getElementById("girl").onclick = tap;
</script>

</body>
</html>
